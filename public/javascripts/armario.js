
/*
-------------------------------------------------------------------------------
*/
var wh = [
  {
    name: "never alta n2",
    values: [
      { date: "1", value: "78" },
      { date: "2", value: "49" },
      { date: "3", value: "46" },
      { date: "4", value: "46" },
      { date: "5", value: "45" },
      { date: "6", value: "44" },
      { date: "7", value: "44" },
      { date: "8", value: "44" },
      { date: "9", value: "48" },
      { date: "10", value: "50" },
      { date: "11", value: "50" },
      { date: "12", value: "52" },
      { date: "13", value: "52" },
      { date: "14", value: "47" },
      { date: "15", value: "45" },
      { date: "16", value: "42" },
      { date: "17", value: "54" },
      { date: "18", value: "64" },
      { date: "19", value: "43" },
      { date: "20", value: "42" },
      { date: "21", value: "41" },
      { date: "22", value: "60" },
      { date: "23", value: "59" },
      { date: "24", value: "42" }
    ]
  },
  {
    name: "nevera alta n1",
    values: [
      { date: "1", value: "98" },
      { date: "2", value: "96" },
      { date: "3", value: "97" },
      { date: "4", value: "97" },
      { date: "5", value: "96" },
      { date: "6", value: "95" },
      { date: "7", value: "95" },
      { date: "8", value: "51" },
      { date: "9", value: "0" },
      { date: "10", value: "65" },
      { date: "11", value: "97" },
      { date: "12", value: "102" },
      { date: "13", value: "102" },
      { date: "14", value: "124" },
      { date: "15", value: "94" },
      { date: "16", value: "114" },
      { date: "17", value: "98" },
      { date: "18", value: "105" },
      { date: "19", value: "118" },
      { date: "20", value: "90" },
      { date: "21", value: "110" },
      { date: "22", value: "112"},
      { date: "23", value: "89" },
      { date: "24", value: "102" }
    ]
  },
  {
    name: "arcon n4",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0" },
      { date: "7", value: "0" },
      { date: "8", value: "17" },
      { date: "9", value: "29" },
      { date: "10", value: "28" },
      { date: "11", value: "28" },
      { date: "12", value: "28" },
      { date: "13", value: "28" },
      { date: "14", value: "28" },
      { date: "15", value: "28" },
      { date: "16", value: "29" },
      { date: "17", value: "27" },
      { date: "18", value: "28" },
      { date: "19", value: "28" },
      { date: "20", value: "28" },
      { date: "21", value: "29" },
      { date: "22", value: "27"},
      { date: "23", value: "12" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "arcon n2 final pasillo",
    values: [
      { date: "1", value: "12" },
      { date: "2", value: "107" },
      { date: "3", value: "108" },
      { date: "4", value: "106" },
      { date: "5", value: "115" },
      { date: "6", value: "167" },
      { date: "7", value: "112" },
      { date: "8", value: "92" },
      { date: "9", value: "163" },
      { date: "10", value: "128" },
      { date: "11", value: "110" },
      { date: "12", value: "141" },
      { date: "13", value: "135" },
      { date: "14", value: "169" },
      { date: "15", value: "134" },
      { date: "16", value: "174" },
      { date: "17", value: "171" },
      { date: "18", value: "167" },
      { date: "19", value: "119" },
      { date: "20", value: "155" },
      { date: "21", value: "119" },
      { date: "22", value: "147"},
      { date: "23", value: "118" },
      { date: "24", value: "107" }
    ]
  },
  {
    name: "arcon n1 final pasillo",
    values: [
      { date: "1", value: "80" },
      { date: "2", value: "91" },
      { date: "3", value: "99" },
      { date: "4", value: "97" },
      { date: "5", value: "85" },
      { date: "6", value: "83" },
      { date: "7", value: "129" },
      { date: "8", value: "128" },
      { date: "9", value: "125" },
      { date: "10", value: "98" },
      { date: "11", value: "115" },
      { date: "12", value: "127" },
      { date: "13", value: "126" },
      { date: "14", value: "85" },
      { date: "15", value: "134" },
      { date: "16", value: "134" },
      { date: "17", value: "130" },
      { date: "18", value: "128" },
      { date: "19", value: "127" },
      { date: "20", value: "126" },
      { date: "21", value: "85" },
      { date: "22", value: "96"},
      { date: "23", value: "114" },
      { date: "24", value: "83" }
    ]
  },
  {
    name: "arcon n3 pasillo",
    values: [
      { date: "1", value: "124" },
      { date: "2", value: "124" },
      { date: "3", value: "125" },
      { date: "4", value: "124" },
      { date: "5", value: "125" },
      { date: "6", value: "124"},
      { date: "7", value: "124" },
      { date: "8", value: "125" },
      { date: "9", value: "124" },
      { date: "10", value: "125"},
      { date: "11", value: "132" },
      { date: "12", value: "126" },
      { date: "13", value: "125" },
      { date: "14", value: "166"},
      { date: "15", value: "127" },
      { date: "16", value: "163" },
      { date: "17", value: "128" },
      { date: "18", value: "128" },
      { date: "19", value: "169" },
      { date: "20", value: "124" },
      { date: "21", value: "160"},
      { date: "22", value: "134"},
      { date: "23", value: "126" },
      { date: "24", value: "125" }
    ]
  }
];


var signal=[
  {
    name: "nevera_alta_1",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "1"},
      { date: "11", value: "3" },
      { date: "12", value: "2" },
      { date: "13", value: "4" },
      { date: "14", value: "8"},
      { date: "15", value: "8" },
      { date: "16", value: "5" },
      { date: "17", value: "1" },
      { date: "18", value: "0" },
      { date: "19", value: "2" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "nevera alta n1/ arcon n2 final pasillo",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0"},
      { date: "11", value: "0" },
      { date: "12", value: "1" },
      { date: "13", value: "1" },
      { date: "14", value: "2"},
      { date: "15", value: "2" },
      { date: "16", value: "3" },
      { date: "17", value: "3" },
      { date: "18", value: "3" },
      { date: "19", value: "3" },
      { date: "20", value: "1" },
      { date: "21", value: "2"},
      { date: "22", value: "2"},
      { date: "23", value: "3" },
      { date: "24", value: "0" }
    ]
  }
];
var wh_cocina=[
  {
    name: "maquina de zumos",
    values:[
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "4" },
      { date: "10", value: "2"},
      { date: "11", value: "2" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "nevera mesa",
    values: [
      { date: "1", value: "300" },
      { date: "2", value: "263" },
      { date: "3", value: "0" },
      { date: "4", value: "310" },
      { date: "5", value: "22" },
      { date: "6", value: "246"},
      { date: "7", value: "216" },
      { date: "8", value: "143" },
      { date: "9", value: "141" },
      { date: "10", value: "234"},
      { date: "11", value: "55" },
      { date: "12", value: "330" },
      { date: "13", value: "262" },
      { date: "14", value: "24"},
      { date: "15", value: "281" },
      { date: "16", value: "67" },
      { date: "17", value: "244" },
      { date: "18", value: "43" },
      { date: "19", value: "249" },
      { date: "20", value: "57" },
      { date: "21", value: "259"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  }

];
var wh_armario =[
  {
    name: "Horno1",
    values:[
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "2379.83" },
      { date: "6", value: "2641.63"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "4" },
      { date: "10", value: "969.50"},
      { date: "11", value: "753.29" },
      { date: "12", value: "2585.38" },
      { date: "13", value: "915.95" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "General",
    values:[
      { date: "1", value: "1797.79" },
      { date: "2", value: "2063.14" },
      { date: "3", value: "1738.18" },
      { date: "4", value: "1912.74" },
      { date: "5", value: "4835.29" },
      { date: "6", value: "9957.11"},
      { date: "7", value: "5394.52" },
      { date: "8", value: "6499.58" },
      { date: "9", value: "5008.12" },
      { date: "10", value: "9123.99"},
      { date: "11", value: "9660.30" },
      { date: "12", value: "9929.93" },
      { date: "13", value: "8620.64" },
      { date: "14", value: "6815.26"},
      { date: "15", value: "8592.68" },
      { date: "16", value: "8129.83" },
      { date: "17", value: "7157.58" },
      { date: "18", value: "7108.56" },
      { date: "19", value: "7593.16" },
      { date: "20", value: "7571.57" },
      { date: "21", value: "6329.09"},
      { date: "22", value: "2191.86"},
      { date: "23", value: "1876.42" },
      { date: "24", value: "2006.31" }
    ]
  },
  {
    name: "Cafetera",
    values:[
      { date: "1", value: "407.15" },
      { date: "2", value: "454.99" },
      { date: "3", value: "397.51" },
      { date: "4", value: "418.46" },
      { date: "5", value: "536.33" },
      { date: "6", value: "804.68"},
      { date: "7", value: "794.68" },
      { date: "8", value: "707.68" },
      { date: "9", value: "792.07" },
      { date: "10", value: "1013.15"},
      { date: "11", value: "908.62" },
      { date: "12", value: "744.45" },
      { date: "13", value: "664.62" },
      { date: "14", value: "571.55"},
      { date: "15", value: "771.97" },
      { date: "16", value: "781.49" },
      { date: "17", value: "668.84" },
      { date: "18", value: "761.94" },
      { date: "19", value: "719.23" },
      { date: "20", value: "706.01" },
      { date: "21", value: "571.97"},
      { date: "22", value: "449.55"},
      { date: "23", value: "430.94" },
      { date: "24", value: "432.33" }
    ]
  },
  {
    name: "Aire1",
    values:[
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "470.03" },
      { date: "6", value: "3667.82"},
      { date: "7", value: "741.30" },
      { date: "8", value: "3851.29" },
      { date: "9", value: "904.79" },
      { date: "10", value: "3730.14"},
      { date: "11", value: "4225.50" },
      { date: "12", value: "4221.68" },
      { date: "13", value: "4253.42" },
      { date: "14", value: "4160.82"},
      { date: "15", value: "4149.86" },
      { date: "16", value: "4179.72" },
      { date: "17", value: "4130.50" },
      { date: "18", value: "4092.10" },
      { date: "19", value: "3714.75" },
      { date: "20", value: "3642.07" },
      { date: "21", value: "3412.52"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "Aire2",
    values:[
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "8.29" },
      { date: "6", value: "75.42"},
      { date: "7", value: "12.82" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0.23"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "Aire3",
    values:[
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "243.92" },
      { date: "6", value: "2134.03"},
      { date: "7", value: "1109.91" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0.23"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  }

];


var signal_cocina =[
  {
    name: "water sensor",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "Siren ZM1601-5",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "10" },
      { date: "5", value: "15" },
      { date: "6", value: "9"},
      { date: "7", value: "2" },
      { date: "8", value: "0" },
      { date: "9", value: "2" },
      { date: "10", value: "12"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "2" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  },
  {
    name: "maquina de zumos",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "0" },
      { date: "6", value: "0"},
      { date: "7", value: "3" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "2" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "0"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  }
];
var signal_armario =[
  {
    name: "aire1/aire3",
    values: [
      { date: "1", value: "0" },
      { date: "2", value: "0" },
      { date: "3", value: "0" },
      { date: "4", value: "0" },
      { date: "5", value: "1" },
      { date: "6", value: "0"},
      { date: "7", value: "0" },
      { date: "8", value: "0" },
      { date: "9", value: "0" },
      { date: "10", value: "0"},
      { date: "11", value: "0" },
      { date: "12", value: "0" },
      { date: "13", value: "0" },
      { date: "14", value: "0"},
      { date: "15", value: "0" },
      { date: "16", value: "0" },
      { date: "17", value: "0" },
      { date: "18", value: "0" },
      { date: "19", value: "0" },
      { date: "20", value: "0" },
      { date: "21", value: "0"},
      { date: "22", value: "1"},
      { date: "23", value: "0" },
      { date: "24", value: "0" }
    ]
  }
];


var width = 1000;
var height = 450;
var margin = 90;
var mar2 = 80;
var duration = 250;

var lineOpacity = "0.25";
var lineOpacityHover = "0.85";
var otherLinesOpacityHover = "0.1";
var lineStroke = "4px";
var lineStrokeHover = "4.5px";

var circleOpacity = '0.85';
var circleOpacityOnLineHover = "0.25"
var circleRadius = 3;
var circleRadiusHover = 6;
var axistransform1=width-margin;
var axistransform2=axistransform1+40;

/*
--------------------------------------------------------------------------------
                      PARSE DATA
--------------------------------------------------------------------------------
*/
var parseDate1 = d3.timeParse("%d")

var parseDate = d3.timeParse("%H");
/*
sem_altillo_con.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate1(d.date);
  });
});
sem_altillo_signal.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate1(d.date);
  });
});*/
wh.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
  });
});
signal.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
    d.value = +d.value;
  });
});
wh_cocina.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
  });
});
signal_cocina.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
    d.value = +d.value;
  });
});
wh_armario.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
  });
});
signal_armario.forEach(function(d) {
  d.values.forEach(function(d) {
    d.date = parseDate(d.date);
    d.value = +d.value;
  });
});



/* Scale */
var xScale = d3.scaleTime()
  .domain(d3.extent(wh[0].values, d => d.date))
  .range([0, width-margin]);
var yScale = d3.scaleLinear()
  .domain([0, 225])
  .range([height-margin, 0]);
var nyScale =  d3.scaleLinear()
  .domain([0, d3.max(signal[0].values, d => d.value)])
  .range([height-margin, 0]);
var yScale_armario  = d3.scaleLinear()
  .domain([0, 10000])
  .range([height-margin, 0]);
var nyScale_armario = d3.scaleLinear()
  .domain([0, d3.max(signal_armario[0].values, d => d.value)])
  .range([height-margin, 0]);
/*
SALA
*/






/* COCINA SVG */

var chart_armario = d3.select("#chart3").append("svg")
    .attr("width", (width+margin)+"px")
    .attr("height", (height+margin)+"px")
    .append('g')
    .attr("transform", `translate(${mar2}, ${mar2})`);


/*
---------------------------
          EJES
---------------------------
*/

/*ARMARIO*/
var line5=d3.line()
  .x(d => xScale(d.date))
  .y(d => yScale_armario(d.value))
var line6=  d3.line()
  .x(d=>xScale(d.date))
  .y(d=> nyScale_armario(d.value))
/*SALA*/


  /*ARMARIO*/
let lines3 = chart_armario.append('g')
  .attr('class', 'lines');
/*SALA*/
var color = d3.scaleOrdinal(d3.schemeCategory10);

/*
BARS
*/
/*
bars.selectAll('.bar')
  .data(sem_altillo_con)
  .append('g')
  .attr("y", function(d) { return yScale_sem_altillo(d.value); })
*/
/*
var x = d3.scaleBand()
    .rangeRound([0,width]);

var y = d3.scaleLinear().range([height, 0])
x.domain(sem_data.map(function(d) { return d.date; }));
y.domain([0, d3.max(sem_data, function(d) { return d.value; })]);

chart_sem_altillo.selectAll("bar")
      .data(sem_data)
    .enter().append("rect")
      .style("fill", "steelblue")
      .attr("x", function(d) { return x(d.date); })
      .attr("width", width)
      .attr("y", function(d) { return y(d.value); })
      .attr("height", function(d) { return height - y(d.value); });*/
/*
bars.selectAll('.bar')
.data(sem_altillo_con)
.enter()
.append("rect")
.style("fill", "steelblue")
.attr("x", d=>line12(d.date))
.attr("width", width)
.attr("y", d=>line12(d.value))
.attr("height", function(d) { return height - yScale_sem_altillo(d.value); });
*/

/*
-------------------------------------------
            GROUP 2 SELECT
-------------------------------------------
  */


/*ARMARIO*/
lines3.selectAll('.line-group6')
    .data(signal_armario).enter()
    .append('g')
    .attr('class', 'line-group6')
    .on("mouseover", function(d, i) {
        chart_armario.append("text")
          .attr("class", "title-text")
          .style("fill", color(i))
          .text(d.name)
          .attr("text-anchor", "middle")
          .attr("x", (width-margin)/2)
          .attr("y", -15);
    })
    .on("mouseout", function(d) {
        chart_armario.select(".title-text").remove();
    })
    .append('path')
    .attr("width","px")
    .attr('class', 'line')
    .attr('d', d => line6(d.values))
    .style('stroke', (d, i) => color(i))
    .style('opacity', lineOpacity)
    .style('fill',(d, i) => color(i));

    /*SALA*/

/*


/*
-----------------------------------------------------------------------------------------------
                  GROUP1 SELECT
-------------------------------------------------------------------------------------------------
*/



/*ARMARIO*/
lines3.selectAll('.line-group5')
  .data(wh_armario).enter()
  .append('g')
  .attr('class', 'line-group5')
  .on("mouseover", function(d, i) {
      chart_armario.append("text")
        .attr("class", "title-text")
        .style("fill", color(i))
        .text(d.name)
        .attr("text-anchor", "middle")
        .attr("x", (width-margin)/2)
        .attr("y", -15);
    })
  .on("mouseout", function(d) {
      chart_armario.select(".title-text").remove();
    })
  .append('path')
  .attr('class', 'line')
  .attr('d', d => line5(d.values))
  .style('stroke', (d, i) => color(i))
  .style("stroke-width", lineStroke)
  .style('opacity', lineOpacity)
  .on("mouseover", function(d) {
      d3.selectAll('.line')
					.style('opacity', otherLinesOpacityHover);
      d3.selectAll('.circle1')
					.style('opacity', circleOpacityOnLineHover);
      d3.select(this)
        .style('opacity', lineOpacityHover)
        .style("stroke-width", lineStrokeHover)
        .style("cursor", "pointer");
    })
  .on("mouseout", function(d) {
      d3.selectAll(".line")
					.style('opacity', lineOpacity);
      d3.selectAll('.circle1')
					.style('opacity', circleOpacity);
      d3.select(this)
        .style("stroke-width", lineStroke)
        .style("cursor", "none");
    });

    /*SALA*/


/*
-------------------------------------------------------------------------------------------------------
              CIRCLES
-----------------------------------------------------------------------------------------------------------
*/


/*ARMARIO*/
lines3.selectAll("circle-group")
  .data(wh_armario).enter()
  .append("g")
  .style("fill", (d, i) => color(i))
  .selectAll("circle1")
  .data(d => d.values).enter()
  .append("g")
  .attr("class", "circle1")
  .on("mouseover", function(d) {
      d3.select(this)
        .style("cursor", "pointer")
        .append("text")
        .attr("class", "text")
        .text(`${d.value}`)
        .attr("x", d => xScale(d.date) + 5)
        .attr("y", d => yScale_armario(d.value) - 10);
    })
    .on("mouseout", function(d) {
      d3.select(this)
        .style("cursor", "none")
        .transition()
        .duration(duration)
        .selectAll(".text").remove();
      })
      .append("circle")
      .attr("cx", d => xScale(d.date))
      .attr("cy", d => yScale_armario(d.value))
      .attr("r", circleRadius)
      .style('opacity', circleOpacity)
      .on("mouseover", function(d) {
          d3.select(this)
            .transition()
            .duration(duration)
            .attr("r", circleRadiusHover);
      })
      .on("mouseout", function(d) {
          d3.select(this)
            .transition()
            .duration(duration)
            .attr("r", circleRadius);
      });


/* Add Axis into SVG */
var xAxis = d3.axisBottom(xScale).ticks(24);
var yAxis = d3.axisLeft(yScale).ticks(25);
var nyAxis =d3.axisRight(nyScale).ticks(8);

var yAxis_armario = d3.axisLeft(yScale_armario).ticks(25);
var nyAxis_armario = d3.axisRight(nyScale_armario).ticks(2);




  /*    ARMARIO   */

chart_armario.append("g")
    .attr("class", "2x axis")
    .attr("transform", `translate(0, ${height-margin})`)
    .call(xAxis);
chart_armario.append("g")
    .attr("class", "y axis")
    .call(yAxis_armario)
    .append('text')
    .attr("y", 15)
    .attr("x",20)
    .attr("fill", "#000")
    .text("Wh")
    .attr("transform","translate(-15,-20)");
chart_armario.append("g")
    .attr("class", "y axis")
    .attr("transform","translate("+axistransform1+",0)")
    .call(nyAxis_armario)
    .append('text')
    .attr("y", 15)
    .attr("fill", "#000")
    .text("Mediciones")
    .attr("transform","translate(-10,-25)");




          /*
----------------------------------------
        Mouseover animation
----------------------------------------
*/
    var divToolTip = d3.select("body").append("div")
                .attr("class", "tooltip")
                .style("opacity", 1e-6);

    function mouseover() {
        divToolTip.transition()
            .duration(700)
            .style("opacity", 1);
    }
    function mouseout() {
        divToolTip.transition()
            .duration(500)
            .style("opacity", 1e-6);
    }





    var z = d3.scaleOrdinal()
        .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

/*
--------------------------------------------------------------------------------
                            LEGEND
--------------------------------------------------------------------------------

*/
var legend3 =  chart_armario.append("g")
      .attr("font-family", "sans-serif")
      .attr("font-size", 10)
      .attr("text-anchor", "end")
      .selectAll("g")
      .data(wh_armario)
        .enter().append("g")
        .attr("transform", function(d, i) { return "translate(60," + i * 26 + ")"; });


/*ARMARIO*/
legend3.append("rect")
     .attr("x", width - 20)
     .attr("width", 20)
     .attr("height", 20)
     .attr("fill",(d, i) => color(i) );

 legend3.append("text")
     .attr("x", width - 25)
     .attr("y", 10)
     .attr("dy", "0.4em")
     .text(function(d) { return d.name; });
